; DAHDI Telephony Configuration file
;
; You need to restart Asterisk to re-configure the DAHDI channel
; CLI> module reload chan_dahdi.so
;      will reload the configuration file, but not all configuration options
;      are re-configured during a reload (signalling, as well as PRI and
;      SS7-related settings cannot be changed on a reload).
;
; This file documents many configuration variables.  Normally unless you know
; what a variable means or that it should be changed, there's no reason to
; un-comment those lines.
;
; Examples below that are commented out (those lines that begin with a ';' but
; no space afterwards) typically show a value that is not the default value,
; but would make sense under certain circumstances. The default values are
; usually sane. Thus you should typically not touch them unless you know what
; they mean or you know you should change them.

[trunkgroups]
;
; Trunk groups are used for NFAS connections.
;
; Group: Defines a trunk group.
;        trunkgroup => <trunkgroup>,<dchannel>[,<backup1>...]
;
;        trunkgroup  is the numerical trunk group to create
;        dchannel    is the DAHDI channel which will have the
;                    d-channel for the trunk.
;        backup1     is an optional list of backup d-channels.
;;
;; I don't know why this is here but its probably fucking wrong. -SA 03-2018
;; group 2 = to 232 = 5xb
;; group 3 = towards 832 = 1xb
;; group 4 = towards 722 = panel
;; group 5 = towards 232 = sarahs call simulator
;; group 6 = towards 722 = sarahs call simulator
;; group 7 = to 275 = sxs
;; group 8 = to 844 = time
; trunkgroup => 2,24
; trunkgroup => 3,24
; trunkgroup => 4,24
; trunkgroup => 7,24
; trunkgroup => 8,24
; trunkgroup => 1,24,48
; trunkgroup => 1,24
;
; Spanmap: Associates a span with a trunk group
;        spanmap => <dahdispan>,<trunkgroup>[,<logicalspan>]
;
;        dahdispan   is the DAHDI span number to associate
;        trunkgroup  is the trunkgroup (specified above) for the mapping
;        logicalspan is the logical span number within the trunk group to use.
;                    if unspecified, no logical span number is used.
;
; spanmap => 1,1,1
; spanmap => 2,1,2
; spanmap => 3,1,3
; spanmap => 4,1,4


[channels]
context = museum
overlapdial = no

; This section contains the DAHDI groups for the C*NET connection.
; Also, for trunking between asterisk and switches. Thus, most of these
; are attached to inbound trunks, and not to line links or line finders.
;
; 232 5xb Group 2
signalling=featb
group=2
channel => 37-38

; 722 panel Group 4
signalling=em
group=4
channel => 31
immediate=yes
pulse=yes
pulsedial=yes

; 275 step Group 7
signalling=em
group=7
channel => 45
immediate=yes
pulse=yes
pulsedial=yes

; 832 1xb Group 8
signalling=featb
group=8
channel => 42-44

; 844 time Group 9
signalling=em
group=9
channel => 27

; 5xb incoming Group 10
signalling=em
group=10
immediate=no
context=trunk_in
channel => 46

; =========================================================================================
; Here begins Sarah's Panel call simulator
; If this works, it will be a fucking miracle.
; Make sure to get asterisk and /etc/dahdi/system.conf
; to agree with each other.
;
; Context has to go above channel, otherwise it wont get parsed. computers.jpg
;
; Channel 3 is excluded because that (L) and (CO) relay pair is apparently flaky?
; UPDATE: Channel 3 is being used for outbound only. Appears on final in DAHDI/g3
;
; These terminate on the ADIT channel bank, then to subscriber lines, thus fxs_ls signalling.
;
signalling=fxs_ls
context=sarah_callsim
immediate=yes
pulse=yes
pulsedial=yes
group=6
channel => 1-2,4-10

; For the 5XB part of the call simulator. Same ADIT, just different channels.
signalling=fxs_ls
context=sarah_callsim
immediate=yes
pulse=yes
pulsedial=yes
group=5
channel => 20-24

; For the 1XB part of the call simulator. 
; These lines have been terminated on the line link but are not presently set up
; on the block relay frame. The line and channel setup may change.
signalling=fxs_ls
context=sarah_callsim
immediate=yes
pulse=no
pulsedial=no
group=11
channel => 18-19	; Thought I had 3 channels here, but 20 doesn't seem to work??

; For Asterisk line appearances on the panel final frame.
; ex. Line 5400,5401 goes to Adit -> DAHDI -> Asterisk -> SIP -> wherever
signalling=fxs_ls
context=panel_to_sip
immediate=yes
group=3
channel => 3
